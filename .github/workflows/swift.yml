name: Swift

on: [push]
  # push:
  #   branches: 
  #   - develop
  #   - setup-github-action
  # pull_request:
  #   branches: 
  #   - develop
  #   - setup-github-action

jobs:
  test:
    name: Testing App
    runs-on: macos-latest
    timeout-minutes: 15

    steps:

    - name: Cancel previous jobs
      uses: styfle/cancel-workflow-action@0.6.0
      with:
        access_token: ${{ github.token }}

    - name: Git - Checkout
      uses: actions/checkout@v3
      with:
        ref: ${{ github.ref }}

    - name: Setup and run tests
      working-directory: ./BoredApp
      run: |
        pod install
        fastlane ios tests

    # - name: Build
    #   run: swift build -v
    # - name: Run tests
    #   run: swift test -v